// Hide the spinner once the page has finished loading
window.addEventListener('load', function () {
  var spinner = document.getElementById('loading-spinner');
  spinner.style.display = 'none';
});

// Fetch and populate data from the API endpoint
document.addEventListener("DOMContentLoaded", function () {
  const tableBody = document.querySelector("#reports-table tbody");

  fetch("http://localhost:8080/reports")
      .then((response) => response.json())
      .then((data) => {
          data.forEach((item) => {
              const row = document.createElement("tr");
              row.innerHTML = `
                  <td>${item.id}</td>
                  <td>${item.repositoryId}</td>
                  <td>${item.dateTime}</td>
                  <td>${item.reportSchema}</td>
                  <td>${item.engineVersion}</td>
              `;
              tableBody.appendChild(row);
          });
      });
});